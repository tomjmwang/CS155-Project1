(this.webpackJsonpliar=this.webpackJsonpliar||[]).push([[0],{134:function(e,t,a){},152:function(e,t){},154:function(e,t){},165:function(e,t){},167:function(e,t){},194:function(e,t){},196:function(e,t){},197:function(e,t){},202:function(e,t){},204:function(e,t){},223:function(e,t){},235:function(e,t){},238:function(e,t){},244:function(e,t,a){},245:function(e,t,a){"use strict";a.r(t);var r=a(4),n=a.n(r),i=a(123),s=a.n(i),c=(a(134),a(30)),l=a(21),o=a(10),d=a(2);var h=function(){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"extLinks",children:[Object(d.jsx)(l.b,{to:"/instructions",style:{textDecoration:"none"},children:Object(d.jsx)("p",{className:"howToPlayLink",style:{marginLeft:"15px"},children:Object(d.jsx)("u",{children:"how to play"})})}),Object(d.jsxs)("div",{style:{textAlign:"right",marginLeft:"auto",marginRight:"15px"},children:[Object(d.jsx)("p",{}),Object(d.jsx)(l.b,{to:"/acknowledgements",style:{textDecoration:"none"},children:Object(d.jsx)("p",{className:"acknowledgementsLink",children:Object(d.jsx)("u",{children:"about / acknowledgements"})})})," "]})]}),Object(d.jsxs)("div",{className:"container",style:{height:"90vh"},children:[Object(d.jsx)("h1",{style:{marginTop:"-20px"},children:"who's the liar? \ud83e\udd25"}),Object(d.jsx)(l.b,{to:"/enter",style:{textDecoration:"none"},children:Object(d.jsx)("button",{className:"block",style:{marginTop:"-15px",marginLeft:"auto",marginRight:"auto"},children:"create room"})})]}),Object(d.jsxs)("div",{className:"extLinks",children:[Object(d.jsx)("a",{href:"https://www.producthunt.com/posts/who-s-the-liar?utm_source=badge-featured&utm_medium=badge&utm_souce=badge-who-s-the-liar",target:"_blank",children:Object(d.jsx)("img",{src:"https://api.producthunt.com/widgets/embed-image/v1/featured.svg?post_id=282827&theme=light",alt:"who's the liar? - Play this simple web-based game with your friends! | Product Hunt",width:"250",height:"54",style:{marginLeft:"15px",marginTop:"-25px"}})}),Object(d.jsxs)("div",{style:{textAlign:"right",marginLeft:"auto",marginRight:"15px"},children:[Object(d.jsx)("a",{href:"https://github.com/fibanneacci/liar",target:"blank",rel:"noreferrer",children:"source code"})," (initial work by ",Object(d.jsx)("a",{href:"https://anli.io",target:"_blank",rel:"noreferrer",children:"anne"}),", see ",Object(d.jsx)("a",{href:"https://github.com/fibanneacci/liar/graphs/contributors",target:"_blank",rel:"noreferrer",children:"contributors"}),")"]})]})]})};var u=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"how to play"}),Object(d.jsxs)("p",{style:{width:"75vw",fontSize:"1.5rem",textAlign:"justify",margin:"auto"},children:['one word is randomly chosen, and one player is randomly assigned as the "liar". all players are given the chosen word\'s category, and all but the liar are given the word. the specific rules are up to you and your friends (e.g. # of turns), but a common way to play involves taking turns describing the word: non-liars try to provide enough info to prove their innocence but not enough for the liar to guess the word, while the liar tries to fit in. at the end, everyone votes on who they think the liar is.',Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),"best played over video call! (may implement live chat in the future)"]}),Object(d.jsx)(l.b,{to:"/",style:{textDecoration:"none"},children:Object(d.jsx)("button",{className:"block",style:{marginTop:"30px",marginLeft:"auto",marginRight:"auto"},children:"back"})})]})};var b=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"about / acknowledgements"}),Object(d.jsxs)("p",{style:{width:"75vw",fontSize:"1.5rem",textAlign:"justify",margin:"auto"},children:["i didn't invent this game! i built it after watching"," ",Object(d.jsx)("a",{href:"https://youtu.be/5MS3iaNmKQE?t=401",target:"_blank",rel:"noreferrer",children:"a video of red velvet playing it"}),".",Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),"i also followed a few very helpful tutorials along the way: ",Object(d.jsx)("a",{href:"https://css-tricks.com/intro-firebase-react/",target:"_blank",rel:"noreferrer",children:"this"}),", ",Object(d.jsx)("a",{href:"https://www.developintelligence.com/blog/2017/04/building-a-realtime-chess-game-with-react-and-firebase/",target:"_blank",rel:"noreferrer",children:"this"}),", ",Object(d.jsx)("a",{href:"https://medium.com/@hasangi/writing-deleting-and-updating-data-in-firebase-realtime-database-with-javascript-f26113ec8c93",target:"_blank",rel:"noreferrer",children:"this"}),", and ",Object(d.jsx)("a",{href:"https://css-tricks.com/building-a-real-time-chat-app-with-react-and-firebase/",target:"_blank",rel:"noreferrer",children:"this"}),".",Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),"styling for all buttons done with linus lee's ",Object(d.jsx)("a",{href:"https://thesephist.github.io/blocks.css/",target:"_blank",rel:"noreferrer",children:"blocks.css"}),", game room ids generated with ",Object(d.jsx)("a",{href:"https://www.npmjs.com/package/randomstring",target:"_blank",rel:"noreferrer",children:"node-randomstring"}),".",Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),"built with ",Object(d.jsx)("a",{href:"https://firebase.google.com/docs",target:"_blank",rel:"noreferrer",children:"firebase"})," and ",Object(d.jsx)("a",{href:"https://create-react-app.dev",target:"_blank",rel:"noreferrer",children:"react"}),". usernames are the only player-specific data stored in the database. i did not enable firebase's google analytics for this project."]}),Object(d.jsx)(l.b,{to:"/",style:{textDecoration:"none"},children:Object(d.jsx)("button",{className:"block",style:{marginTop:"30px",marginLeft:"auto",marginRight:"auto"},children:"back"})})]})},j=a(74);j.a.initializeApp({apiKey:"AIzaSyCh8YuaMsuPOca-PX4FZxIq9VvrGY9jvX8",authDomain:"cs247g-9d957.firebaseapp.com",projectId:"cs247g-9d957",storageBucket:"cs247g-9d957.appspot.com",messagingSenderId:"943697705504",appId:"1:943697705504:web:8dac44753753dba7405a45",measurementId:"G-8872W6HKMJ"});var p=j.a,m=a(146);var g=function(){var e=Object(o.f)();return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("label",{className:"usernameLabel",htmlFor:"username",children:"username:"})," ",Object(d.jsx)("input",{className:"usernameInput",type:"text",id:"username"}),Object(d.jsx)("button",{className:"block",onClick:function(){var t=document.getElementById("username").value;if(t.length>40||0===t.length)document.getElementById("usernameValidationLabel").innerHTML="please enter between 1 and 40 characters";else if(/[^0-9A-Za-z]/.test(t))document.getElementById("usernameValidationLabel").innerHTML="please enter alphanumeric only";else{var a=window.location.pathname,r=p.database().ref("games");if(6===a.length){var n=m.generate(7),i={liar:"",players:[t],stage:0,cards:{true_deck:[],lie_deck:[]},current_player:0,current_card:[],votes:[]};r.child(n).set(i),e.replace("/room/"+n+"&name="+t)}else{var s=a.substring(7,14),c=document.getElementById("username").value;r.child(s).child("players").push(c),e.replace("/room/"+s+"&name="+t)}}},style:{marginLeft:"auto",marginRight:"auto"},children:"enter"}),Object(d.jsx)("p",{className:"usernameValidationLabel",id:"usernameValidationLabel",children:"(alphanumeric only)"})]})},f=a(73),v=a.n(f),x=a(125),O=a(126),y=a(127),k=a(26),w=a(129),_=a(128),L=["a","b","c","d","e","f"];function N(e){for(var t,a,r=e.length;0!==r;)a=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[a],e[a]=t;return e}var S=function(e){Object(w.a)(a,e);var t=Object(_.a)(a);function a(e){var r;return Object(O.a)(this,a),(r=t.call(this,e)).state={players:[],current_card:[],stage:0,liar:"",current_player:0,name:window.location.pathname.substring(19),vote_result:!0,voted:!1,true_deck:[],lie_deck:[]},r.updateStage=r.updateStage.bind(Object(k.a)(r)),r.startGame=r.startGame.bind(Object(k.a)(r)),r.updateVoteTruth=r.updateVoteTruth.bind(Object(k.a)(r)),r.updateVoteLie=r.updateVoteLie.bind(Object(k.a)(r)),r.restartGame=r.restartGame.bind(Object(k.a)(r)),r}return Object(y.a)(a,[{key:"startGame",value:function(){var e=window.location.pathname.substring(6,13),t=p.database().ref("games").child(e),a=t.child("cards").child("true_deck").val(),r=a.shift();t.update({votes:[],current_card:r,cards:{true_deck:a,lie_deck:[]}})}},{key:"updateVoteTruth",value:function(){var e=window.location.pathname.substring(6,13),t=p.database().ref("games").child(e),a=t.child("votes").val();a.push(!0),t.update({votes:a}),this.setState({voted:!0})}},{key:"updateVoteLie",value:function(){var e=window.location.pathname.substring(6,13),t=p.database().ref("games").child(e),a=t.child("votes").val();a.push(!1),t.update({votes:a}),this.setState({voted:!0})}},{key:"restartGame",value:function(){var e=window.location.pathname.substring(6,13);p.database().ref("games").child(e).update({stage:0})}},{key:"componentDidMount",value:function(){var e=Object(x.a)(v.a.mark((function e(){var t,a,r=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.location.pathname.substring(6,13),a=p.database().ref("games").child(t),a.child("players").on("child_added",(function(e){var t=r.state.players;t.push(e.val()),r.setState({players:t})})),a.child("stage").on("value",(function(e){if(r.setState({stage:e.val()}),0===e.val()){for(var t=N(L),n=[],i=0;i<10;i++)i<8?n.push([t[i],!0]):n.push([t[i],!1]);var s={true_deck:n,lie_deck:[]};a.update({cards:s});var c=r.state.players[Math.floor(Math.random()*r.state.players.length)];a.update({liar:c})}})),a.child("cards").on("value",(function(e){r.setState({true_deck:e.child("true_deck").val(),lie_deck:e.child("lie_deck").val()})})),a.child("liar").on("value",(function(e){r.setState({liar:e.val()})})),a.child("current_player").on("value",(function(e){r.setState({current_player:e.val()})})),a.child("current_card").on("value",(function(e){r.setState({current_card:e.val()})})),a.child("votes").on("value",(function(e){if(e.val().length===r.state.players.length-1){for(var t=0,n=0,i=0;i<e.val().length;i++)!0===e.val()[i]?t+=1:n+=1;var s=a.child("cards"),c=s.child("true_deck").val(),l=s.child("lie_deck").val();if(n>t?l.push(r.state.current_question):c.push(r.state.current_question),4===l.length)a.update({stage:2,cards:{true_deck:c,lie_deck:l}});else{var o=r.state.current_player+1;o===r.state.players.length&&(o=0);var d=c.shift();a.update({votes:[],current_player:o,current_card:d,cards:{true_deck:c,lie_deck:l}}),r.setState({voted:!1})}}else r.setState({votes:e.val()})}));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"gameScreen",children:[Object(d.jsxs)("div",{className:"gameScreenLeft",children:[Object(d.jsx)("p",{className:"playersLabel",children:"players:"}),Object(d.jsx)("div",{className:"playersList",children:this.state.players.map((function(e){return Object(d.jsx)("li",{children:e},e)}))})]}),Object(d.jsxs)("div",{className:"gameScreenRight",children:[0===this.state.stage&&Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:"linkLabel",children:"send your friends this link:"}),Object(d.jsx)("p",{className:"link",children:"https://cs247g-9d957.web.app"+window.location.pathname.replace("room","enter").substring(0,14)}),Object(d.jsx)("button",{className:"block",onClick:this.startGame,style:{marginTop:"20px",marginLeft:"auto",marginRight:"auto"},children:"start"})]}),1===this.state.stage&&Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"promptLabel",children:[window.location.pathname.substring(19)!==this.state.liar&&Object(d.jsx)("div",{children:"You are a truth-teller."}),window.location.pathname.substring(19)===this.state.liar&&Object(d.jsx)("div",{children:"You are the liar"})]}),Object(d.jsx)("div",{children:this.state.current_question[0]}),this.state.name!==this.state.players[this.state.current_player]&&Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{className:"block",onClick:this.updateVoteTruth,style:{marginTop:"20px",marginLeft:"auto",marginRight:"auto"},children:"Truth"}),Object(d.jsx)("button",{className:"block",onClick:this.updateVoteLie,style:{marginTop:"20px",marginLeft:"auto",marginRight:"auto"},children:"Lie"})]})]}),2===this.state.stage&&Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"liarLabel",children:[this.state.liar," was the liar!"]}),Object(d.jsx)("button",{className:"block",onClick:this.restartGame,style:{marginTop:"20px",marginLeft:"auto",marginRight:"auto"},children:"play again"})]})]})]})}}]),a}(n.a.Component);a(244);var T=function(){return Object(d.jsx)(l.a,{children:Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{exact:!0,path:"/",render:function(e){return Object(d.jsx)(h,Object(c.a)({},e))}}),Object(d.jsx)(o.a,{exact:!0,path:"/instructions",render:function(e){return Object(d.jsx)(u,Object(c.a)({},e))}}),Object(d.jsx)(o.a,{exact:!0,path:"/acknowledgements",render:function(e){return Object(d.jsx)(b,Object(c.a)({},e))}}),Object(d.jsx)(o.a,{exact:!0,path:"/enter",render:function(e){return Object(d.jsx)(g,Object(c.a)({},e))}}),Object(d.jsx)(o.a,{exact:!0,path:"/enter/:id",render:function(e){return Object(d.jsx)(g,Object(c.a)({},e))}}),Object(d.jsx)(o.a,{exact:!0,path:"/room/:id",render:function(e){return Object(d.jsx)(S,Object(c.a)({},e))}})]})})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,246)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),i(e),s(e)}))};s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(T,{})}),document.getElementById("root")),I()}},[[245,1,2]]]);
//# sourceMappingURL=main.d036466a.chunk.js.map