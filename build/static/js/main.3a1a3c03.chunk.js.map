{"version":3,"sources":["components/Home.js","components/Instructions.js","components/Acknowledgements.js","firebase.js","components/Enter-username.js","components/Room.js","App.js","reportWebVitals.js","index.js"],"names":["Home","props","state","code","val","this","setState","target","value","className","href","to","type","onChange","handleChange","bind","style","textDecoration","React","Component","Instructions","width","fontSize","textAlign","margin","marginTop","marginLeft","marginRight","Acknowledgements","rel","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","rand","require","EnterUsername","hist","useHistory","roomId","url","window","location","pathname","length","substring","undefined","htmlFor","id","onClick","name","document","getElementById","innerHTML","test","games","database","ref","player","child","push","replace","generate","game","liar","players","stage","cards","true_deck","lie_deck","current_player","current_card","votes","true_count","lie_count","vote_result","turn_count","end_condition_count","round_count","info","answers","current_votes","set","all_questions","shuffle","array","temporaryValue","randomIndex","currentIndex","Math","floor","random","Room","voted","current_vote","startGame","updateVoteTruth","updateVoteLie","restartGame","get","then","data","new_card_deck","new_card","shift","update","a","on","updatedPlayers","sort","new_questions","i","TRUTH_CARD_TOTAL_COUNT","selected_questions","c","cp","card","vr","tc","ecc","rc","an","cv","new_true_deck","new_lie_deck","result","new_end_condition_count","new_round_count","new_turn_count","new_info","new_answers","end_info","end_true_count","end_lie_count","u","t","l","k","current_v","new_current_votes","answeringPlayer","map","hasEnoughPlayers","truthTellersAutoWin","currentQuestion","currentPlayer","currentPlayerIsLiar","cardInfo","roundCount","isViewingMode","slice","ind","Object","keys","key","renderPlayerList","renderWaitingRoom","renderMainGamePage","renderEndPage","App","exact","path","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.3a1a3c03.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nclass Home extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            code: \"\"\r\n        }\r\n    }\r\n\r\n    handleChange(val){\r\n        this.setState({code: val.target.value})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='root'>\r\n                <div className='container'>\r\n                    <h1>ðŸ”¥ðŸ”¥ðŸ”¥ Fire the Liar ðŸ¤¥ðŸ¤¥ðŸ¤¥</h1>\r\n                    <h3 className='subheader'>A game of getting to know each other (or for some, <em>not</em> getting to know each other)!\r\n                        <br></br>\r\n                        <a href='https://docs.google.com/document/d/1tKZH9MmeWXQc_eNcoHw3SsS-xuUpcVUN5S6INx_17vs/edit?usp=sharing' target=\"_blank\">\r\n                            How to play &rarr;\r\n                        </a>\r\n                    </h3>\r\n                    <Link to='/enter'><button className='block'>create new room</button></Link>\r\n                    <input className='usernameInput' type='text' value={this.state.code} onChange={this.handleChange.bind(this)} />\r\n                    <Link to={'/enter/' + this.state.code} style={{ textDecoration: 'none' }}><button className='block'>enter with code</button></Link>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Home;\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction Instructions() {\r\n    return (\r\n        <div>\r\n            <h1>how to play</h1>\r\n            <p style={{ width: '75vw', fontSize: '1.5rem', textAlign: 'justify', margin: 'auto' }}>\r\n                one word is randomly chosen, and one player is randomly assigned as the \"liar\". all players are given the chosen word's category, and all but the liar are given the word.\r\n                the specific rules are up to you and your friends (e.g. # of turns), but a common way to play involves taking turns describing the word: non-liars try to provide enough\r\n                info to prove their innocence but not enough for the liar to guess the word, while the liar tries to fit in. at the end, everyone votes on who they think the liar is.<br /><br />\r\n                best played over video call! (may implement live chat in the future)\r\n            </p>\r\n            <Link to='/' style={{ textDecoration: 'none' }}><button className='block' style={{ marginTop: '30px', marginLeft: 'auto', marginRight: 'auto' }}>back</button></Link>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Instructions;\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction Acknowledgements() {\r\n    return (\r\n        <div>\r\n            <h1>about / acknowledgements</h1>\r\n            <p style={{ width: '75vw', fontSize: '1.5rem', textAlign: 'justify', margin: 'auto' }}>\r\n                i didn't invent this game! i built it after watching{' '}\r\n                <a href='https://youtu.be/5MS3iaNmKQE?t=401' target='_blank' rel='noreferrer'>a video of red velvet playing it</a>.<br /><br />\r\n                i also followed a few very helpful tutorials along the way: <a href='https://css-tricks.com/intro-firebase-react/' target='_blank' rel='noreferrer'>this</a>, <a href='https://www.developintelligence.com/blog/2017/04/building-a-realtime-chess-game-with-react-and-firebase/' target='_blank' rel='noreferrer'>this</a>, <a href='https://medium.com/@hasangi/writing-deleting-and-updating-data-in-firebase-realtime-database-with-javascript-f26113ec8c93' target='_blank' rel='noreferrer'>this</a>, and <a href='https://css-tricks.com/building-a-real-time-chat-app-with-react-and-firebase/' target='_blank' rel='noreferrer'>this</a>.<br /><br />\r\n                styling for all buttons done with linus lee's <a href='https://thesephist.github.io/blocks.css/' target='_blank' rel='noreferrer'>blocks.css</a>, game room ids generated with <a href='https://www.npmjs.com/package/randomstring' target='_blank' rel='noreferrer'>node-randomstring</a>.<br /><br />\r\n                built with <a href='https://firebase.google.com/docs' target='_blank' rel='noreferrer'>firebase</a> and <a href='https://create-react-app.dev' target='_blank' rel='noreferrer'>react</a>. usernames are the only player-specific data stored in the database. i did not enable firebase's google analytics for this project.\r\n            </p>\r\n            <Link to='/' style={{ textDecoration: 'none' }}><button className='block' style={{ marginTop: '30px', marginLeft: 'auto', marginRight: 'auto' }}>back</button></Link>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Acknowledgements;\r\n","import firebase from 'firebase'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCh8YuaMsuPOca-PX4FZxIq9VvrGY9jvX8\",\r\n  authDomain: \"cs247g-9d957.firebaseapp.com\",\r\n  projectId: \"cs247g-9d957\",\r\n  storageBucket: \"cs247g-9d957.appspot.com\",\r\n  messagingSenderId: \"943697705504\",\r\n  appId: \"1:943697705504:web:8dac44753753dba7405a45\",\r\n  measurementId: \"G-8872W6HKMJ\"\r\n};\r\n\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase;","import React from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport firebase from '../firebase.js'\r\nvar rand = require('randomstring')\r\n\r\nfunction EnterUsername() {\r\n    const hist = useHistory()\r\n\r\n    function roomId() {\r\n        const url = window.location.pathname\r\n        return url.length > 6 ? url.substring(7, 14) : undefined\r\n    }\r\n\r\n    function Submit() {\r\n        const name = document.getElementById('username').value\r\n        // If username is empty or more than 40 characters\r\n        if (name.length > 40 || name.length === 0) {\r\n            document.getElementById('usernameValidationLabel').innerHTML = 'please enter between 1 and 40 characters'\r\n        }\r\n        // If contains non-alphanumeric\r\n        else if (/[^0-9A-Za-z]/.test(name)) {\r\n            document.getElementById('usernameValidationLabel').innerHTML = 'please enter alphanumeric only'\r\n        } else {\r\n            const id = roomId()\r\n            const games = firebase.database().ref('games')\r\n            // If URL doesn't have id, create room\r\n            if (!id) {\r\n                const id = rand.generate(7)\r\n                const cards = {\r\n                    true_deck: [\"\"],\r\n                    lie_deck:[\"\"]\r\n                }\r\n                const game = {\r\n                    liar: \"\",\r\n                    players: [\r\n                        name\r\n                    ],\r\n                    stage: 0,\r\n                    cards: cards,\r\n                    current_player: 0,\r\n                    current_card: {name: \"\", val: true},\r\n                    votes: {true_count: 0, lie_count:0},\r\n                    vote_result: \"\",\r\n                    turn_count: 0,\r\n                    end_condition_count: 0,\r\n                    round_count: 1,\r\n                    info: {true_count: 0, lie_count:0},\r\n                    answers: [\"\"],\r\n                    current_votes: {\"_\": \"\"}\r\n                }\r\n                games.child(id).set(game)\r\n                hist.replace('/room/' + id + '&name=' + name)\r\n            }\r\n            // If URL has id, join existing room\r\n            else {\r\n                const player = document.getElementById('username').value\r\n                games.child(id).child('players').push(player)\r\n                hist.replace('/room/' + id + '&name=' + name)\r\n            }\r\n        }\r\n    }\r\n\r\n    function enterViewMode() {\r\n        // This should not collide with any usernames, as it is not alphanumeric.\r\n        hist.replace(`/room/${roomId()}&name=_`)\r\n    }\r\n\r\n    return (\r\n        <div className='root'>\r\n            <div className='container'>\r\n                <label className='usernameLabel' htmlFor='username'>username:</label> {/*check for uniqueness, or just add a number to the end if not unique*/}\r\n                <input className='usernameInput' type='text' id='username' />\r\n                <button className='block' onClick={Submit} style={{ marginLeft: 'auto', marginRight: 'auto' }}>enter</button>\r\n                <p className='usernameValidationLabel' id='usernameValidationLabel'>(alphanumeric only)</p>\r\n\r\n                {roomId() && <div>\r\n                    <button className='block' onClick={enterViewMode} style={{ marginLeft: 'auto', marginRight: 'auto' }}>use screen share mode</button>\r\n                    <p className='usernameValidationLabel' id='usernameValidationLabel'>Good for screen sharing on zoom! No secrets leaked here ;)</p>\r\n                </div>}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EnterUsername;\r\n","import React from 'react'\r\nimport firebase from '../firebase.js'\r\n\r\n// Create wordsets\r\nconst all_questions = [\r\n\"What is one of your favorite life hacks?\",\r\n\"What television show or movie makes you laugh the hardest and why?\",\r\n\"Are you a cat person or dog person?\",\r\n\"Who do you most admire and why?\",\r\n\"Do you think you're courageous or timid? Why?\",\r\n\"Which is harder for you to give: time or money? Why?\",\r\n\"How old where you when you had your first kiss?\",\r\n\"What is the silliest thing you have done in front of an unfamiliar crowd?\",\r\n\"What is the class you got the worst grade in?\",\r\n\"Have you ever cheated on an exam or quiz? If so, what is the exam on?\",\r\n\"What is a secret you kept from your parents?\",\r\n\"Are you a morning person or a night person?\",\r\n\"How many selfies do you take a day?\",\r\n\"are you a coffee person or a tea person?\",\r\n\"describe your favorite childhood show\",\r\n\"What's the longest time you've ever gone without showering?\",\r\n\"type 'what is' in your google search bar. What is the most embarassing thing that pops up?\",\r\n\"what is an embarassing nickname that you once had?\",\r\n\"Who is your celebrity crush? why?\",\r\n\"How much toilet paper do you use for one wipe? (can be in number of perforated 'squares')\"\r\n]\r\n\r\nconst MIN_NUMBER_PLAYERS = 4\r\nconst GAME_END_TURN_COUNT = 8\r\nconst LIE_DECK_END_COUNT = 4\r\n\r\nconst TRUTH_CARD_TOTAL_COUNT = 6\r\nconst LIE_CARD_TOTAL_COUNT = 2\r\n\r\nfunction shuffle(array){\r\n\r\n    var currentIndex = array.length\r\n      , temporaryValue\r\n      , randomIndex\r\n      ;\r\n\r\n    // While there remain elements to shuffle...\r\n    while (0 !== currentIndex) {\r\n\r\n        // Pick a remaining element...\r\n        randomIndex = Math.floor(Math.random() * currentIndex);\r\n        currentIndex -= 1;\r\n\r\n        // And swap it with the current element.\r\n        temporaryValue = array[currentIndex];\r\n        array[currentIndex] = array[randomIndex];\r\n        array[randomIndex] = temporaryValue;\r\n    }\r\n    return array\r\n}\r\n\r\nclass Room extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            players: [],\r\n            current_card: {},\r\n            stage: 0,\r\n            liar: \"\",\r\n            current_player: 0,\r\n            name: window.location.pathname.substring(19),\r\n            vote_result: \"\",\r\n            voted: false,\r\n            true_deck: [],\r\n            lie_deck: [],\r\n            votes: {true_count: 0, lie_count:0},\r\n            turn_count: 0,\r\n            end_condition_count: 0,\r\n            round_count: 1,\r\n            info: {true_count: 0, lie_count:0},\r\n            answers: [\"\"],\r\n            current_votes: {\"_\": \"\"},\r\n            current_vote: \"\"\r\n        }\r\n        this.startGame = this.startGame.bind(this)\r\n        this.updateVoteTruth = this.updateVoteTruth.bind(this)\r\n        this.updateVoteLie = this.updateVoteLie.bind(this)\r\n        this.restartGame = this.restartGame.bind(this)\r\n    }\r\n\r\n    isViewingMode() {\r\n        return this.state.name === '_'\r\n    }\r\n\r\n    startGame(){\r\n        const id = window.location.pathname.substring(6, 13)\r\n        let game = firebase.database().ref('games').child(id)\r\n        let cards = game.child('cards')\r\n        cards.child('true_deck').get().then((data)=>{\r\n            let new_card_deck = data.val()\r\n            let new_card = new_card_deck.shift()\r\n            game.update({\r\n                'votes': {true_count: 0, lie_count:0},\r\n                'current_card': {name: new_card[0], val: new_card[1]},\r\n                'stage': 1,\r\n                'cards': {\r\n                    true_deck: new_card_deck,\r\n                    lie_deck: []\r\n                },\r\n                'turn_count': 0,\r\n                'end_condition_count': 0,\r\n                'round_count': 1,\r\n                'info': {true_count: TRUTH_CARD_TOTAL_COUNT, lie_count: LIE_CARD_TOTAL_COUNT},\r\n                'answers': [\"\"],\r\n                current_votes: {\"_\": \"\"}\r\n            })\r\n        })\r\n\r\n\r\n    }\r\n\r\n    updateVoteTruth(){\r\n        const id = window.location.pathname.substring(6, 13)\r\n        let game = firebase.database().ref('games').child(id)\r\n\r\n        game.child('votes').get().then((data)=>{\r\n            let votes = data.val()\r\n            votes.true_count += 1\r\n            game.update({'votes': votes})\r\n            this.setState({\r\n                voted: true,\r\n                current_vote: \"honest\"\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n    updateVoteLie(){\r\n        const id = window.location.pathname.substring(6, 13)\r\n        let game = firebase.database().ref('games').child(id)\r\n        game.child('votes').get().then((data)=>{\r\n            let votes = data.val()\r\n            votes.lie_count += 1\r\n            game.update({'votes': votes})\r\n            this.setState({\r\n                voted: true,\r\n                current_vote: \"dishonest\"\r\n            })\r\n        })\r\n    }\r\n\r\n    restartGame(){\r\n        const id = window.location.pathname.substring(6, 13)\r\n        let game = firebase.database().ref('games').child(id)\r\n        game.update({\r\n            stage: 0\r\n        })\r\n    }\r\n\r\n    // Based off https://css-tricks.com/building-a-real-time-chat-app-with-react-and-firebase/\r\n    async componentDidMount() {\r\n        const id = window.location.pathname.substring(6, 13)\r\n        let game = firebase.database().ref('games').child(id)\r\n        const players = game.child('players')\r\n        players.on('child_added', player => {\r\n            let updatedPlayers = this.state.players\r\n            updatedPlayers.push(player.val())\r\n            updatedPlayers.sort()\r\n            this.setState({\r\n                players: updatedPlayers\r\n            })\r\n        });\r\n        const stage = game.child('stage')\r\n        stage.on('value', stage => {\r\n            this.setState({\r\n                stage: stage.val()\r\n            })\r\n            if (stage.val() === 0) {\r\n                // Determine questions for current round\r\n                let new_questions = shuffle(all_questions)\r\n                let true_deck = []\r\n                for (let i = 0; i < TRUTH_CARD_TOTAL_COUNT + LIE_CARD_TOTAL_COUNT; i++){\r\n                    if(i < TRUTH_CARD_TOTAL_COUNT){\r\n                        true_deck.push([new_questions[i], true])\r\n                    }\r\n                    else{\r\n                        true_deck.push([new_questions[i], false])\r\n                    }\r\n                }\r\n                let selected_questions = {\r\n                    true_deck: true_deck\r\n                }\r\n                game.update({ 'cards': selected_questions })\r\n                // Determine liar for current round\r\n                let liar = this.state.players[Math.floor(Math.random() * this.state.players.length)]\r\n                game.update({ 'liar': liar })\r\n            }\r\n        })\r\n        const c = game.child('cards')\r\n        c.on('value', c => {\r\n            this.setState({\r\n                true_deck: c.child('true_deck').val(),\r\n                lie_deck: c.child('lie_deck').val()\r\n            })\r\n        })\r\n        const liar = game.child('liar')\r\n        liar.on('value', liar => {\r\n            this.setState({\r\n                liar: liar.val()\r\n            })\r\n        })\r\n        game.child('current_player').on('value', cp =>{\r\n            this.setState({\r\n                current_player: cp.val()\r\n            })\r\n        })\r\n        game.child('current_card').on('value', card=>{\r\n            this.setState({\r\n                current_card: card.val()\r\n            })\r\n        })\r\n        game.child('vote_result').on('value', vr=>{\r\n            this.setState({\r\n                vote_result: vr.val()\r\n            })\r\n        })\r\n        game.child('turn_count').on('value', tc=>{\r\n            this.setState({\r\n                turn_count: tc.val()\r\n            })\r\n        })\r\n        game.child('end_condition_count').on('value', ecc=>{\r\n            this.setState({\r\n                end_condition_count: ecc.val()\r\n            })\r\n        })\r\n        game.child('round_count').on('value', rc=>{\r\n            this.setState({\r\n                round_count: rc.val()\r\n            })\r\n        })\r\n        game.child('info').on('value', info=>{\r\n            this.setState({\r\n                info: info.val()\r\n            })\r\n        })\r\n        game.child('answers').on('value', an=>{\r\n            this.setState({\r\n                answers: an.val()\r\n            })\r\n        })\r\n        game.child('current_votes').on('value', cv=>{\r\n            this.setState({\r\n                current_votes: cv.val()\r\n            })\r\n        })\r\n        const votes = game.child('votes')\r\n        votes.on('value', votes => {\r\n            if(votes.val().lie_count + votes.val().true_count === this.state.players.length - 1){\r\n                // let true_count = 0\r\n                // let lie_count = 0\r\n                // for(let j = 0; j < votes.val().length; j++){\r\n                //     if (votes.val()[j] === true){\r\n                //         true_count += 1\r\n                //     }\r\n                //     else{\r\n                //         lie_count += 1\r\n                //     }\r\n                // }\r\n                game.child('cards').get().then((cards)=>{\r\n                    let new_true_deck = cards.val().true_deck\r\n                    let new_lie_deck = cards.val().lie_deck\r\n                    if(new_lie_deck == null){\r\n                        new_lie_deck = []\r\n                    }\r\n                    let result = \"\"\r\n                    let new_end_condition_count = this.state.end_condition_count\r\n                    let new_round_count = this.state.round_count\r\n                    let new_turn_count = this.state.turn_count + 1\r\n                    let new_info = this.state.info\r\n                    let new_answers = this.state.answers\r\n                    if(votes.val().lie_count > votes.val().true_count){\r\n                        new_lie_deck.push([this.state.current_card.name, this.state.current_card.val])\r\n                        result = \"lie deck\"\r\n                        new_end_condition_count = 0\r\n                        new_answers.push([this.state.players[this.state.current_player], this.state.current_card.name, \"dishonest and put in lie deck.\"])\r\n                    }\r\n                    else{\r\n                        new_true_deck.push([this.state.current_card.name, this.state.current_card.val])\r\n                        result = \"truth deck\"\r\n                        new_end_condition_count += 1\r\n                        new_answers.push([this.state.players[this.state.current_player], this.state.current_card.name, \"honest and put in truth deck.\"])\r\n                    }\r\n\r\n                    //check for game ending condition...\r\n                    if(new_turn_count >= GAME_END_TURN_COUNT || new_lie_deck.length === LIE_DECK_END_COUNT){\r\n                        let end_info = {true_count:0, lie_count:0}\r\n                        let end_true_count = 0\r\n                        let end_lie_count = 0\r\n                        for(let u = 0; u < this.state.true_deck.length; u++){\r\n                            if(new_true_deck[u][1] === true){\r\n                                    end_true_count += 1\r\n                                }\r\n                                else{\r\n                                    end_lie_count += 1\r\n                                }\r\n                        }\r\n                        end_info = {true_count: end_true_count, lie_count: end_lie_count}\r\n                        game.update({\r\n                            'stage': 2,\r\n                            'cards': {\r\n                                true_deck: new_true_deck,\r\n                                lie_deck: new_lie_deck\r\n                            },\r\n                            'vote_result': result,\r\n                            'info': end_info,\r\n                            'answers': new_answers\r\n                        })\r\n                        this.setState({\r\n                            voted: false\r\n                        })\r\n                    }\r\n                    else{\r\n                        let current_player = this.state.current_player + 1\r\n                        if (current_player === this.state.players.length){\r\n                            current_player = 0\r\n                        }\r\n                        if(new_turn_count % this.state.players.length === 0){\r\n                            let t = 0\r\n                            let l = 0\r\n                            for(let k = 0; k < new_true_deck.length; k++){\r\n                                if(new_true_deck[k][1] === true){\r\n                                    t += 1\r\n                                }\r\n                                else{\r\n                                    l += 1\r\n                                }\r\n                            }\r\n                            new_info = {true_count: t, lie_count: l}\r\n                            new_round_count += 1\r\n                        }\r\n                        let new_card = new_true_deck.shift()\r\n                        game.update({\r\n                            'votes': {true_count: 0, lie_count:0},\r\n                            'current_player': current_player,\r\n                            'current_card': {name: new_card[0], val:new_card[1]},\r\n                            'cards': {\r\n                                true_deck: new_true_deck,\r\n                                lie_deck: new_lie_deck\r\n                            },\r\n                            'vote_result': result,\r\n                            'end_condition_count': new_end_condition_count,\r\n                            'round_count': new_round_count,\r\n                            'turn_count': new_turn_count,\r\n                            'info': new_info,\r\n                            'answers': new_answers\r\n                        })\r\n                        this.setState({\r\n                            voted: false\r\n                        })\r\n                    }\r\n                })\r\n\r\n            }\r\n            else{\r\n                if(this.state.voted === true){\r\n                    game.child('current_votes').get().then((current_v) => {\r\n                        let new_current_votes = current_v.val()\r\n                        if(new_current_votes.length === 5){\r\n                            new_current_votes = {\"_\":\"\"}\r\n                        }\r\n                        new_current_votes[this.state.name] = this.state.current_vote\r\n                        game.update({current_votes: new_current_votes})\r\n                    })\r\n                }\r\n                \r\n                this.setState({\r\n                    votes: votes.val()\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    renderPlayerList() {\r\n        const answeringPlayer = this.state.players[this.state.current_player]\r\n\r\n        return (\r\n            <div className='gameScreenLeft'>\r\n                    <p className='playersLabel'>\r\n                        players:\r\n                    </p>\r\n                    <div className='playersList'>\r\n                        {this.state.players.map((player) => {\r\n                            return (\r\n                                <li key={player}>\r\n                                    <div className={player === answeringPlayer ? 'currentPlayer' : undefined} >\r\n                                        {player}\r\n                                    </div>\r\n                                </li>\r\n                            )\r\n                        }\r\n                        )}\r\n                    </div>\r\n                </div>\r\n        )\r\n    }\r\n\r\n    renderWaitingRoom() {\r\n        const hasEnoughPlayers = this.state.players.length >= MIN_NUMBER_PLAYERS\r\n        return (\r\n            <div className='waiting'>\r\n                <p className='linkLabel'>send your friends this code:</p>\r\n                <p className='link'>{window.location.pathname.substring(6, 13)}</p>\r\n                {hasEnoughPlayers && <button className='block' onClick={this.startGame} style={{margin: 'auto'}}>start</button>}\r\n                {!hasEnoughPlayers && <p>{MIN_NUMBER_PLAYERS - this.state.players.length} more players needed to start!</p>}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    renderEndPage() {\r\n        const end_info = this.state.info\r\n        const truthTellersAutoWin = end_info.lie_count === 0\r\n        return (\r\n            <div>\r\n                <div className='liarLabel'>\r\n                    There are {end_info.true_count} truth cards, {end_info.lie_count} lie cards in main deck.\r\n                    {truthTellersAutoWin && <>Truth-tellers win, and {this.state.liar} is the liar / loser!</>}\r\n                    {!truthTellersAutoWin && <div>\r\n                        <br/>\r\n                        Since there are lie cards in the main deck, vote (over zoom) who you think the liar is.\r\n                        <br/>\r\n                        <br/>\r\n                        <details>\r\n                            <summary>Toggle to show the liar (don't click until everyone has voted!)</summary>\r\n                            <br/><br/>\r\n                            {this.state.liar} is the liar!\r\n                            <br/><br/>\r\n                            If the majority voted correctly, the truth-tellers win!\r\n                            Otherwise, the {this.state.liar} wins!\r\n                        </details>\r\n                    </div>}\r\n                </div>\r\n                <button className='block' onClick={this.restartGame} style={{ marginTop: '20px', marginLeft: 'auto', marginRight: 'auto' }}>play again</button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    renderMainGamePage() {\r\n        const answeringPlayer = this.state.players[this.state.current_player]\r\n        const currentQuestion = this.state.current_card.name\r\n        const currentPlayer = this.state.name\r\n        const currentPlayerIsLiar = this.state.name === this.state.liar\r\n        const cardInfo = this.state.info\r\n        const roundCount = this.state.round_count\r\n\r\n        return (\r\n            <div>\r\n                {!this.isViewingMode() && !currentPlayerIsLiar &&\r\n                    <div>\r\n                        <u>You are a truth-teller.</u><br/>\r\n                        You are trying to detect when other people are lying,\r\n                        and figure out who is the liar.\r\n                    </div>\r\n                }\r\n                {currentPlayerIsLiar &&\r\n                    <div>\r\n                        <u>You are the liar.</u><br/>\r\n                        You must always lie when it is your turn to answer questions.\r\n                        Try to get dishonest answer integrity cards into the final\r\n                        lie deck without being detected.\r\n                    </div>\r\n                }\r\n                <div>\r\n                    {currentPlayer !== answeringPlayer ? (\r\n                        <p className='promptLabel'>{answeringPlayer} is answering the question '{currentQuestion}'</p>\r\n                        ) : (\r\n                        <>\r\n                            <p className='promptLabel'>It's your turn to answer this question: <br/> {currentQuestion}</p>\r\n                            <p className='promptLabel'>\r\n                                You have drawn <span className='hl'>{this.state.current_card.val ? 'an honest' : 'a dishonest'}</span> answer-integrity card.\r\n                                As a <span className='hl'>{currentPlayerIsLiar ? 'liar' : 'truth-teller'}</span>,\r\n                                you must <span className='hl'>{currentPlayerIsLiar ? 'lie' : this.state.current_card.val ? 'tell the truth' : 'lie'}</span>.\r\n                            </p>\r\n\r\n                        </>\r\n                        )\r\n                    }\r\n                </div>\r\n                {currentPlayer !== answeringPlayer && !this.isViewingMode() &&\r\n                    <div>\r\n                    {this.state.voted === false &&\r\n                        <div className='votingSection'>\r\n                            Do you think {answeringPlayer} has an honest or dishonest integrity card?\r\n                            <div className='votingOptions'>\r\n                                <button className='block' onClick={this.updateVoteTruth}>Honest</button>\r\n                                <button className='block' onClick={this.updateVoteLie}>Dishonest</button>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    {this.state.voted === true &&\r\n                        <div className='promptLabel'>\r\n                            You have voted!\r\n                        </div>\r\n                    }\r\n                    </div>\r\n                }\r\n                {\r\n                    currentPlayer === answeringPlayer && <div className='votingSection'>\r\n                        Other players are currently voting on {this.isViewingMode() ? answeringPlayer + \"'s\": 'your'} ~ honesty ~ ðŸ˜ŒðŸ˜ŒðŸ˜Œ\r\n                    </div>\r\n                }\r\n\r\n                <br/><br/>\r\n                <div className='linkLabel'>\r\n                    As of start of round {roundCount}, there were {cardInfo.true_count} truth cards and {cardInfo.lie_count} lie cards\r\n                    in the main deck.\r\n                </div>\r\n                {this.state.vote_result && <div className='linkLabel'>\r\n                    <br/>\r\n                    The last question got put in {this.state.vote_result}. There are {this.state.lie_deck?.length || 0} cards in the lie deck.\r\n                </div>}\r\n                <br/>\r\n                <div>\r\n                    {this.state.answers.slice(1).map((val, ind) => {\r\n                        return (\r\n                            <div className=\"linkLabel\">\r\n                                {val[0]} answered the question {val[1]} and was voted {val[2]}.\r\n                            </div>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n                {this.isViewingMode() &&\r\n                    <div>\r\n                        {Object.keys(this.state.current_votes).map((key, ind) => {\r\n                            return (\r\n                                <div className=\"linkLabel\">\r\n                                    {key} voted {this.state.current_votes[key]}!\r\n                                </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='gameScreen'>\r\n                {this.renderPlayerList()}\r\n                <div className='gameScreenRight'>\r\n                    {this.state.stage === 0 && this.renderWaitingRoom()}\r\n                    {this.state.stage === 1 && this.renderMainGamePage()}\r\n                    {this.state.stage === 2 && this.renderEndPage()}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Room;\r\n","import React, { Component } from 'react'\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\r\n\r\nimport Home from './components/Home'\r\nimport Instructions from './components/Instructions'\r\nimport Acknowledgements from './components/Acknowledgements'\r\nimport EnterUsername from './components/Enter-username'\r\nimport Room from './components/Room'\r\nimport './components/Components.css'\r\n\r\nfunction App() {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route exact path=\"/\" render={ props => <Home {...props} />} />\r\n        <Route exact path=\"/instructions\" render={ props => <Instructions {...props} />} />\r\n        <Route exact path=\"/acknowledgements\" render={ props => <Acknowledgements {...props} />} />\r\n        <Route exact path=\"/enter\" render={ props => <EnterUsername {...props} />} />\r\n        <Route exact path=\"/enter/:id\" render={ props => <EnterUsername {...props} />} />\r\n        <Route exact path=\"/room/:id\" render={ props => <Room {...props} />} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}